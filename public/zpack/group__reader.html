<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZPack: Reader</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZPack
   </div>
   <div id="projectbrief">Simple, general-purpose archive file format</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Reader</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structzpack__reader__s.html">zpack_reader_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga477480a8dd6bb88d9a69b51066c30880"><td class="memItemLeft" align="right" valign="top"><a id="ga477480a8dd6bb88d9a69b51066c30880" name="ga477480a8dd6bb88d9a69b51066c30880"></a>
typedef struct <a class="el" href="structzpack__reader__s.html">zpack_reader_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>zpack_reader</b></td></tr>
<tr class="separator:ga477480a8dd6bb88d9a69b51066c30880"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6b9ddd30a05fd17aaf901f8fb97ece58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga6b9ddd30a05fd17aaf901f8fb97ece58">zpack_read_archive_memory</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader)</td></tr>
<tr class="separator:ga6b9ddd30a05fd17aaf901f8fb97ece58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1807c069a9ac22ada0f439daa0a9cbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gae1807c069a9ac22ada0f439daa0a9cbb">zpack_read_archive</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader)</td></tr>
<tr class="separator:gae1807c069a9ac22ada0f439daa0a9cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97dc48157c94a207f418f64ad3318d62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga97dc48157c94a207f418f64ad3318d62">zpack_read_raw_file</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, <a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *entry, zpack_u8 *buffer, size_t max_size)</td></tr>
<tr class="separator:ga97dc48157c94a207f418f64ad3318d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e7ee766a8206f11c830fabe3557eff6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga5e7ee766a8206f11c830fabe3557eff6">zpack_read_file</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, <a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *entry, zpack_u8 *buffer, size_t max_size, void *dctx)</td></tr>
<tr class="separator:ga5e7ee766a8206f11c830fabe3557eff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ef1fac9c6c69f57251be0101c4fab74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga8ef1fac9c6c69f57251be0101c4fab74">zpack_read_raw_file_stream</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, <a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *entry, <a class="el" href="structzpack__stream__s.html">zpack_stream</a> *stream, size_t *in_size)</td></tr>
<tr class="separator:ga8ef1fac9c6c69f57251be0101c4fab74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4cdcfc037b8000bef09b93d15d99256"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gae4cdcfc037b8000bef09b93d15d99256">zpack_read_file_stream</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, <a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *entry, <a class="el" href="structzpack__stream__s.html">zpack_stream</a> *stream, void *dctx)</td></tr>
<tr class="separator:gae4cdcfc037b8000bef09b93d15d99256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58aec01e769e188ab305ad9760856dae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga58aec01e769e188ab305ad9760856dae">zpack_init_reader</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, const char *path)</td></tr>
<tr class="separator:ga58aec01e769e188ab305ad9760856dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaced95cd8c18ecef43bd2e149c788a958"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gaced95cd8c18ecef43bd2e149c788a958">zpack_init_reader_cfile</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, FILE *fp)</td></tr>
<tr class="separator:gaced95cd8c18ecef43bd2e149c788a958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9fa09535c16acb55e1c2ba29728963a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga9fa09535c16acb55e1c2ba29728963a7">zpack_init_reader_memory</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, const zpack_u8 *buffer, size_t size)</td></tr>
<tr class="separator:ga9fa09535c16acb55e1c2ba29728963a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7501a3c426908624c3f5e7322a36924c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga7501a3c426908624c3f5e7322a36924c">zpack_init_reader_memory_shared</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader, zpack_u8 *buffer, size_t size)</td></tr>
<tr class="separator:ga7501a3c426908624c3f5e7322a36924c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0ea8361c47e9f7a363eb7cadafe389c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gae0ea8361c47e9f7a363eb7cadafe389c">zpack_reset_reader_dctx</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader)</td></tr>
<tr class="separator:gae0ea8361c47e9f7a363eb7cadafe389c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5905838041932ca0fb94743b9b304e9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga5905838041932ca0fb94743b9b304e9e">zpack_close_reader</a> (<a class="el" href="structzpack__reader__s.html">zpack_reader</a> *reader)</td></tr>
<tr class="separator:ga5905838041932ca0fb94743b9b304e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The archive reader.<br  />
Thread safety: <b>Not guaranteed.</b><br  />
When reading from a buffer, all file reading functions are guaranteed to be thread safe, provided that you use a different decompression context for each thread.<br  />
When reading from a file, thread safety is not guaranteed due to separate fseek/fread operations. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6b9ddd30a05fd17aaf901f8fb97ece58" name="ga6b9ddd30a05fd17aaf901f8fb97ece58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b9ddd30a05fd17aaf901f8fb97ece58">&#9670;&#160;</a></span>zpack_read_archive_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_archive_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the entire archive from the buffer assigned in the reader. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__reader.html#ga9fa09535c16acb55e1c2ba29728963a7">zpack_init_reader_memory</a>, <a class="el" href="group__reader.html#ga7501a3c426908624c3f5e7322a36924c">zpack_init_reader_memory_shared</a> </dd></dl>

</div>
</div>
<a id="gae1807c069a9ac22ada0f439daa0a9cbb" name="gae1807c069a9ac22ada0f439daa0a9cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1807c069a9ac22ada0f439daa0a9cbb">&#9670;&#160;</a></span>zpack_read_archive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_archive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the entire archive from the file stream assigned in the reader. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__reader.html#ga58aec01e769e188ab305ad9760856dae">zpack_init_reader</a>, <a class="el" href="group__reader.html#gaced95cd8c18ecef43bd2e149c788a958">zpack_init_reader_cfile</a> </dd></dl>

</div>
</div>
<a id="ga97dc48157c94a207f418f64ad3318d62" name="ga97dc48157c94a207f418f64ad3318d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97dc48157c94a207f418f64ad3318d62">&#9670;&#160;</a></span>zpack_read_raw_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_raw_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zpack_u8 *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the raw compressed data of a file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">entry</td><td>The file entry. </td></tr>
    <tr><td class="paramname">buffer</td><td>The output buffer. </td></tr>
    <tr><td class="paramname">max_size</td><td>Maximum number of bytes to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__reader.html#ga5e7ee766a8206f11c830fabe3557eff6">zpack_read_file</a> </dd></dl>

</div>
</div>
<a id="ga5e7ee766a8206f11c830fabe3557eff6" name="ga5e7ee766a8206f11c830fabe3557eff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e7ee766a8206f11c830fabe3557eff6">&#9670;&#160;</a></span>zpack_read_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zpack_u8 *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read and decompress the data of a file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">entry</td><td>The file entry. </td></tr>
    <tr><td class="paramname">buffer</td><td>The output buffer. </td></tr>
    <tr><td class="paramname">max_size</td><td>Maximum number of bytes to read from. </td></tr>
    <tr><td class="paramname">dctx</td><td>The decompression context to be used. The context's compression library must match the file's compression method. You can pass NULL to use the reader's built-in decompression contexts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="ga8ef1fac9c6c69f57251be0101c4fab74" name="ga8ef1fac9c6c69f57251be0101c4fab74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ef1fac9c6c69f57251be0101c4fab74">&#9670;&#160;</a></span>zpack_read_raw_file_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_raw_file_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__stream__s.html">zpack_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>in_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(Streaming) Read the raw compressed data of a file. The data will be read to the input buffer (next_in) as it's intended to be decompressed to an output buffer. Reading will start from entry.offset + stream.total_in (or continue from the previous operation)<br  />
next_in, avail_in and total_in will be updated to reflect the number of bytes read. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">entry</td><td>The file entry. </td></tr>
    <tr><td class="paramname">stream</td><td>The stream. </td></tr>
    <tr><td class="paramname">in_size</td><td>Number of bytes read to the input buffer (0 &lt;= in_size &lt;= stream.avail_in) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__reader.html#gae4cdcfc037b8000bef09b93d15d99256">zpack_read_file_stream</a> </dd></dl>

</div>
</div>
<a id="gae4cdcfc037b8000bef09b93d15d99256" name="gae4cdcfc037b8000bef09b93d15d99256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4cdcfc037b8000bef09b93d15d99256">&#9670;&#160;</a></span>zpack_read_file_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_read_file_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__file__entry__s.html">zpack_file_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzpack__stream__s.html">zpack_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(Streaming) Read and decompress the data of a file. The compressed data will be read to next_in, and decompressed to next_out. Reading will start from entry.offset + stream.total_in (or continue from the previous operation). Call this function repeatedly until stream.total_in == entry.comp_size &amp;&amp; stream.read_back == 0, in which case the entire file has been decompressed.<br  />
The stream will be updated to reflect the number of bytes read/written.<br  />
The compressed data might not be decompressed entirely in one go, in which case stream.read_back will be set. It specifies the amount of bytes needed from the current input buffer, starting from the end of the buffer. This data must be present at the start of the next input buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">entry</td><td>The file entry. </td></tr>
    <tr><td class="paramname">stream</td><td>The stream. </td></tr>
    <tr><td class="paramname">dctx</td><td>The decompression context to be used. The context's compression library must match the file's compression method. You can pass NULL to use the reader's built-in decompression contexts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="ga58aec01e769e188ab305ad9760856dae" name="ga58aec01e769e188ab305ad9760856dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58aec01e769e188ab305ad9760856dae">&#9670;&#160;</a></span>zpack_init_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_init_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the reader using a file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">path</td><td>UTF-8 formatted path to the archive. If you're on Windows, use <a class="el" href="group__utils.html#ga73d96d7db67a200f01878985d85baa67">zpack_convert_wchar_to_utf8</a> if needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="gaced95cd8c18ecef43bd2e149c788a958" name="gaced95cd8c18ecef43bd2e149c788a958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaced95cd8c18ecef43bd2e149c788a958">&#9670;&#160;</a></span>zpack_init_reader_cfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_init_reader_cfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the reader using an already opened file stream. Note that this file stream will be closed by zpack_close_reader; you may set reader-&gt;file to NULL before calling it to prevent the file from being closed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">fp</td><td>The file stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="ga9fa09535c16acb55e1c2ba29728963a7" name="ga9fa09535c16acb55e1c2ba29728963a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9fa09535c16acb55e1c2ba29728963a7">&#9670;&#160;</a></span>zpack_init_reader_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_init_reader_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const zpack_u8 *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the reader using a buffer containing the archive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">buffer</td><td>The archive buffer. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="ga7501a3c426908624c3f5e7322a36924c" name="ga7501a3c426908624c3f5e7322a36924c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7501a3c426908624c3f5e7322a36924c">&#9670;&#160;</a></span>zpack_init_reader_memory_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zpack_init_reader_memory_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zpack_u8 *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as zpack_init_reader_memory, without copying the archive buffer to another one. The data will be read directly from the buffer provided and is expected to be present throughout the entire reading session. Note that the buffer will not be freed by zpack_close_reader. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
    <tr><td class="paramname">buffer</td><td>The archive buffer. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return code (see <a class="el" href="group__common.html#ga129a232956d239f88517deba48531e45">zpack_result</a>) </dd></dl>

</div>
</div>
<a id="gae0ea8361c47e9f7a363eb7cadafe389c" name="gae0ea8361c47e9f7a363eb7cadafe389c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0ea8361c47e9f7a363eb7cadafe389c">&#9670;&#160;</a></span>zpack_reset_reader_dctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zpack_reset_reader_dctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the reader's built-in decompression contexts. This is usually done automatically, but if a reading operation was stopped prematurely, this MUST be called before starting another reading operation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5905838041932ca0fb94743b9b304e9e" name="ga5905838041932ca0fb94743b9b304e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5905838041932ca0fb94743b9b304e9e">&#9670;&#160;</a></span>zpack_close_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zpack_close_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzpack__reader__s.html">zpack_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the reader, releasing all resources previously occupied by it. This will make the reader ready to be reused for another session. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The reader. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
